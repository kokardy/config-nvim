{
  "defmain": {
    "prefix": "defmain",
    "body": [
      "def main() -> None:",
      "    pass",
      "",
      "",
      "if __name__ == \"__main__\":",
      "    main()"
    ],
    "description": "main function"
  },
  "defwrapper": {
    "prefix": "defwrapper",
    "body": [
      "def decorator[**P, R](func: Callable[P, R]) -> Callable[P, R]:",
      "    \"\"\"Decorator.\"\"\"",
      "    @wraps(func)",
      "    def wrapper(*args: P.args, **kwargs: P.kwargs) -> R:",
      "        start = datetime.now()",
      "        result = func(*args, **kwargs)",
      "        end = datetime.now()",
      "        print(f\"Took {end - start} to execute.\")",
      "        return result",
      "    return wrapper"
    ],
    "description": "wrapper function(decorator)"
  },
  "sql": {
    "prefix": "sql",
    "body": [
      "from sqlalchemy import Column, BIGINT, String",
      "",
      "class ${1:User}(Base):",
      "    __tablename__ = \"${2:users}\"",
      "",
      "    id = Column(BIGINT, primary_key=True, autoincrement=True)",
      "    name = Column(String(255), nullable=False)",
      "",
      "    def __repr__(self) -> str:",
      "        return f\"<${1:User}(id={self.id}, name={self.name})>\""
    ],
    "description": "SQLAlchemy model class"
  },
  "rel": {
    "prefix": "rel",
    "body": [
      "${1:children}: Mapped[list[\"${2:Child}\"]] = relationship(back_populates=\"${3:parent}\")"
    ],
    "description": "SQLAlchemy relationship"
  },
  "logger": {
    "prefix": "logger",
    "body": [
      "import logging",
      "from logging import config",
      "import tomllib as toml",
      "",
      "log_config = \"\"\"",
      "version = 1",
      "",
      "[formatters.standard]",
      "style = \"{\"",
      "format = \"{asctime} - {levelname} - {message}\"",
      "",
      "[formatters.message_only]",
      "style = \"{\"",
      "format = \"{message}\"",
      "",
      "[handlers.console]",
      "formatter = \"standard\"",
      "class = \"logging.StreamHandler\"",
      "level = \"DEBUG\"",
      "",
      "[handlers.rich_console]",
      "formatter = \"message_only\"",
      "class = \"rich.logging.RichHandler\"",
      "level = \"DEBUG\"",
      "",
      "[loggers.__main__]",
      "level = \"DEBUG\"",
      "handlers = [\"console\"]",
      "propagate = false",
      "",
      "# default loggerになる",
      "[root]",
      "level = \"DEBUG\"",
      "handlers = [\"console\", \"rich_console\"]",
      "",
      "\"\"\"",
      "",
      "LOGGING_CONFIG = toml.loads(log_config)",
      "",
      "",
      "config.dictConfig(LOGGING_CONFIG)",
      "",
      "",
      "def get_logger(name: str) -> logging.Logger:",
      "    logger = logging.getLogger(name)",
      "    return logger"
    ],
    "description": "logger setup"
  }
}
